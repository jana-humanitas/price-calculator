<div style="max-width:600px;margin:0 auto;font-family:Arial, sans-serif;">
  <h2>Organizational Pricing Calculator</h2>

  <!-- STEP 1 -->
  <h3>Step 1: Enter Number of Learners</h3>
  <input id="learners" type="number" min="1" placeholder="e.g., 150" 
         style="width:100%;padding:10px;font-size:16px;">
  <br><br>

  <!-- STEP 2 -->
  <h3>Step 2: Select Course Bundle</h3>
  <select id="courses" style="width:100%;padding:10px;font-size:16px;">
    <option value="5000">1–3 Courses ($5,000)</option>
    <option value="9000">4–6 Courses ($9,000)</option>
    <option value="12750">7–9 Courses ($12,750)</option>
    <option value="16000">10–12 Courses ($16,000)</option>
    <option value="20000">13–15 Courses ($20,000)</option>
    <option value="25000">Full Catalog ($25,000)</option>
  </select>
  <br><br>

  <!-- NEW STEP 3: CE EXAMS -->
  <h3>Step 3: CE Exams (Optional)</h3>
  <p style="font-size:14px;margin-top:-10px;">
    CE is per person per course. Cost is <strong>$5 per CE exam</strong>.
  </p>
  <input id="ceExams" type="number" min="0" placeholder="Number of CE exams" 
         style="width:100%;padding:10px;font-size:16px;">
  <br><br>

  <!-- NEW STEP 4: CUSTOMIZATION -->
  <h3>Step 4: Advanced Customization</h3>
  <label style="font-size:16px;">
    <input type="checkbox" id="customization"> Yes, we want advanced customization
  </label>
  <p id="customNote" style="display:none;color:#d9534f;font-size:14px;margin-top:5px;">
    Please contact us for the added customization cost.
  </p>
  <br>

  <!-- BUTTON -->
  <button onclick="calculatePrice()" 
          style="padding:12px 20px;font-size:16px;width:100%;cursor:pointer;">
    Calculate Total Price
  </button>

  <!-- RESULTS -->
  <div id="result" style="margin-top:25px;padding:15px;border:1px solid #ccc;display:none;"></div>
</div>

<script>
document.getElementById("customization").addEventListener("change", function () {
  document.getElementById("customNote").style.display =
    this.checked ? "block" : "none";
});

function calculatePrice() {
  const learners = parseInt(document.getElementById("learners").value);
  const bundleFee = parseInt(document.getElementById("courses").value);
  const ceExams = parseInt(document.getElementById("ceExams").value) || 0;
  const wantsCustomization = document.getElementById("customization").checked;

  if (isNaN(learners) || learners < 1) {
    alert("Please enter a valid number of learners.");
    return;
  }

  // License pack tiers
  const packs = [
    { max: 49,   fee: learners * 30,                  name: "Per-learner pricing (<50)" },
    { max: 50,   fee: 1425,   name: "Pack of 50" },
    { max: 100,  fee: 2500,   name: "Pack of 100" },
    { max: 250,  fee: 5400,   name: "Pack of 250" },
    { max: 500,  fee: 9250,   name: "Pack of 500" },
    { max: 1000, fee: 15750,  name: "Pack of 1000" },
    { max: 5000, fee: 67000,  name: "Pack of 5000" },
    { max: 10000, fee: 107000, name: "Pack of 10000 (Bundle fees waived)" },
    { max: 20000, fee: 165000, name: "Pack of 20000 (Bundle fees waived)" }
  ];

  let selectedPack = null;

  for (let pack of packs) {
    if (learners <= pack.max) {
      selectedPack = pack;
      break;
    }
  }

  if (!selectedPack) {
    document.getElementById("result").innerHTML = `
      <h3>Contact Us</h3>
      <p>For over 20,000 learners, please contact us for a custom quote.</p>
    `;
    document.getElementById("result").style.display = "block";
    return;
  }

  let licenseFee = selectedPack.fee;
  let bundleCost = bundleFee;
  let notes = "";

  // Packs with waived bundle fee
  if (selectedPack.name.includes("waived")) {
    bundleCost = 0;
    notes = "<p><strong>Course bundle fees are waived for this pack.</strong></p>";
  }

  // CE cost calculation
  const ceCost = ceExams * 5;

  // Total
  const total = licenseFee + bundleCost + ceCost;

  // Customization message
  const customMsg = wantsCustomization
    ? `<p style="color:#d9534f;"><strong>Advanced customization requested — please contact us for pricing.</strong></p>`
    : "";

  document.getElementById("result").style.display = "block";
  document.getElementById("result").innerHTML = `
    <h3>Your Pricing Summary</h3>
    <p><strong>Learners:</strong> ${learners}</p>
    <p><strong>License Pack:</strong> ${selectedPack.name}</p>
    <p><strong>License Pack Cost:</strong> $${licenseFee.toLocaleString()}</p>
    <p><strong>Course Bundle Cost:</strong> $${bundleCost.toLocaleString()}</p>
    <p><strong>CE Exam Cost:</strong> $${ceCost.toLocaleString()} (${ceExams} exams × $5)</p>
    ${notes}
    ${customMsg}
    <hr>
    <h3>Total Price: $${total.toLocaleString()}</h3>
  `;
}
</script>
